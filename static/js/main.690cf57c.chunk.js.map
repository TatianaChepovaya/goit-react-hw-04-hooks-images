{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/NotFoundImage/NotFoundImage.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/imageApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","assets/hqdefault.jpg","components/NotFoundImage/NotFoundImage.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchValue","setSearchValue","className","s","searchbar","form","e","preventDefault","trim","toast","warn","type","button","label","value","onChange","currentTarget","input","autoComplete","autoFocus","placeholder","api","fetchImagesWithQuery","searchQuery","page","axios","get","then","response","status","data","length","hits","Error","message","ImageGalleryItem","image","descr","onOpenModal","largeImg","item","onClick","src","alt","source","Button","NotFindImage","img","title","modalRoot","document","querySelector","Modal","imageInfo","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","event","target","modal","largeImageURL","tags","Status","ImageGallery","images","setImages","setPage","setError","setStatus","modalImageInfo","setModalImageInfo","API","error","catch","toggleModal","style","color","textAlign","height","width","timeout","NotFoundImage","gallery","map","webformatURL","id","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.690cf57c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__cTEu_\",\"image\":\"ImageGalleryItem_image__106pu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"NotFoundImage_img__1SuJN\",\"title\":\"NotFoundImage_title__pu8ny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__B_hoy\",\"modal\":\"Modal_modal__3ldrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3njgd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__Nnf1p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__K5uCt\",\"form\":\"Searchbar_form__G0CjT\",\"button\":\"Searchbar_button__19sJ6\",\"label\":\"Searchbar_label__3xGYZ\",\"input\":\"Searchbar_input__17_LK\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setSearchValue(e.currentTarget.value);\r\n  };\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (searchValue.trim() === '') {\r\n      toast.warn('Enter correct value');\r\n      return;\r\n    }\r\n\r\n    onSubmit( searchValue );\r\n    setSearchValue('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.button}>\r\n          <span className={s.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          value={searchValue}\r\n          onChange={handleChange}\r\n          className={s.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst ACCESS_KEY = '22352284-07c51f530b6e71a5deb2eb1e0';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        if (response.data.length !== 0) {\r\n          return response.data.hits;\r\n        }\r\n      }\r\n      if (response.status === 404) {\r\n        throw new Error(response.message || 'Your query is not find');\r\n      }\r\n    });\r\n};\r\n\r\nconst api = {\r\n  fetchImagesWithQuery,\r\n};\r\n\r\nexport default api;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, descr, onOpenModal, largeImg }) => {\r\n  \r\n  return (\r\n    <li className={s.item} onClick={onOpenModal}>\r\n      <img src={image} alt={descr} className={s.image} source={largeImg} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  descr: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","export default __webpack_public_path__ + \"static/media/hqdefault.c1d9e774.jpg\";","import s from \"./NotFoundImage.module.css\";\r\nimport image from \"../../assets/hqdefault.jpg\";\r\n\r\nconst NotFindImage = () => {\r\n  return (\r\n    <>\r\n      <img src={image} alt=\"try to find smth\" className={s.img} />\r\n      <h2 className={s.title}> Try to find something else</h2>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotFindImage;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ imageInfo, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleOverlayClick}>\r\n      <div className={s.modal}>\r\n        <img src={imageInfo.largeImageURL} alt={imageInfo.tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  imageInfo: PropTypes.shape({\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nimport API from \"../../services/imageApi\";\r\nimport ImageGalleryItem from \"components/ImageGalleryItem\";\r\nimport Button from \"components/Button\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport NotFoundImage from \"components/NotFoundImage\";\r\nimport Modal from \"components/Modal\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nfunction ImageGallery({ searchValue }) {\r\n  const [images, setImages] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [modalImageInfo, setModalImageInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!searchValue) return;\r\n    setStatus(Status.PENDING);\r\n\r\n    API.fetchImagesWithQuery(searchValue, 1)\r\n      .then((response) => {\r\n        if (response.length === 0) {\r\n          toast.error(`Can't find ${searchValue}. Sorry(`);\r\n          setStatus(Status.REJECTED);\r\n          return;\r\n        }\r\n        setImages(response);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n    setPage(2);\r\n  }, [searchValue]);\r\n\r\n  const handleClickBtn = () => {\r\n    setPage(page + 1);\r\n\r\n    API.fetchImagesWithQuery(searchValue, page)\r\n      .then((response) => {\r\n        setImages((prevImages) => [...prevImages, ...response]);\r\n        setStatus(Status.RESOLVED);\r\n\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  };\r\n\r\n  const toggleModal = (modalImageInfo) => {\r\n    setModalImageInfo(modalImageInfo);\r\n  };\r\n\r\n  if (status === \"idle\") {\r\n    return (\r\n      <h1 style={{ color: \"darkblue\", textAlign: \"center\" }}>\r\n        Find your image!\r\n      </h1>\r\n    );\r\n  }\r\n\r\n  if (status === \"pending\") {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (status === \"rejected\") {\r\n    return <NotFoundImage />;\r\n  }\r\n\r\n  if (status === \"resolved\") {\r\n    return (\r\n      <>\r\n        <ul className={s.gallery}>\r\n          {images.map((image) => (\r\n            <ImageGalleryItem\r\n              onOpenModal={() => toggleModal(image)}\r\n              key={image.id}\r\n              image={image.webformatURL}\r\n              descr={image.tags}\r\n            />\r\n          ))}\r\n        </ul>\r\n        <Button onClick={handleClickBtn} />\r\n        {modalImageInfo && (\r\n          <Modal onClose={toggleModal} imageInfo={modalImageInfo} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchValue: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport './App.css';\r\n\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\n\r\nfunction App() {\r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n\r\n  const handleFormSubmit = searchValue => {\r\n    setSearchValue(searchValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery searchValue={searchValue} />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}